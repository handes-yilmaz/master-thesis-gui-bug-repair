diff --git a/src/language-markdown/parser-markdown.js b/src/language-markdown/parser-markdown.js
index 39c711021a..26712ddf49 100644
--- a/src/language-markdown/parser-markdown.js
+++ b/src/language-markdown/parser-markdown.js
@@ -26,10 +26,22 @@ function parse(text /*, parsers, opts*/) {
     .use(restoreUnescapedCharacter(text))
     .use(mergeContinuousTexts)
     .use(transformInlineCode)
-    .use(splitText);
+    .use(splitText)
+    .use(detectLanguageWithAttributes);
   return processor.runSync(processor.parse(text));
 }
 
+function detectLanguageWithAttributes() {
+  return ast => map(ast, node => {
+    if (node.type === "code" && node.lang) {
+      // Extract the language ignoring any attributes
+      const [language] = node.lang.split(/\s+/);
+      return Object.assign({}, node, { lang: language });
+    }
+    return node;
+  });
+}
+
 function map(ast, handler) {
   return (function preorder(node, index, parentNode) {
     const newNode = Object.assign({}, handler(node, index, parentNode));
