diff --git a/src/languages/markdown.js b/src/languages/markdown.js
index ff73dd31..a2c1b640 100644
--- a/src/languages/markdown.js
+++ b/src/languages/markdown.js
@@ -140,37 +140,41 @@ export default function(hljs) {
       }
     ]
   };
-  const BOLD = {
-    className: 'strong',
-    contains: [], // defined later
-    variants: [
-      {
-        begin: /_{2}/,
-        end: /_{2}/
-      },
-      {
-        begin: /\*{2}/,
-        end: /\*{2}/
-      }
-    ]
-  };
-  const ITALIC = {
-    className: 'emphasis',
-    contains: [], // defined later
-    variants: [
-      {
-        begin: /\*(?!\*)/,
-        end: /\*/
-      },
-      {
-        begin: /_(?!_)/,
-        end: /_/,
-        relevance: 0
-      }
-    ]
-  };
-  BOLD.contains.push(ITALIC);
-  ITALIC.contains.push(BOLD);
+const BOLD = {
+className: 'strong',
+contains: [], // defined later
+variants: [
+{
+begin: /_{2}/,
+end: /_{2}/
+},
+{
+begin: /\*{2}/,
+end: /\*{2}/
+}
+]
+};
+const ITALIC = {
+className: 'emphasis',
+contains: [], // defined later
+variants: [
+{
+begin: /\*(?!\*)/,
+end: /\*/
+},
+{
+begin: /_(?!_)/,
+end: /_/,
+relevance: 0
+}
+]
+};
+BOLD.contains.push(ITALIC);
+ITALIC.contains.push(BOLD);
+
+// Ensure proper closure of bold and italic
+BOLD.contains.push(BOLD);
+ITALIC.contains.push(ITALIC);
 
   let CONTAINABLE = [
     INLINE_HTML,
